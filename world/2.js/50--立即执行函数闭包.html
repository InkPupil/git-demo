<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>立即执行函数闭包</title>
    <style>
        .ule{
            list-style: none;
        }
        .li-item{
            background-color: red;
        }
    </style>
</head>
<body>
    <ul class="ule">
        <li class="li-item">1</li>
        <li class="li-item">2</li>
        <li class="li-item">3</li>
        <li class="li-item">4</li>
        <li class="li-item">5</li>
    </ul>
    <script>
        var ule=document.getElementsByClassName('ule')[0];
        var lie=myChildren(ule);

         //自执行函数
        //  (function(num){console.log(num)})(2);

         //循环绑定事件
       
         for(var j=0;j<lie.length;j++){

             lie[j].onclick=(function(n){console.log(n)
             //闭包 在函数外也能用函数里的变量
             return function(){console.log(n)}
             })(j);
         }
        //自己封装获取孩子节点
        function myChildren(arr){
            var chi=arr.children;
            var list=[];
            for(var i=0;i<chi.length;i++){
                if(chi[i].nodeType===1){
                    list.push(chi[i])
                }
            }
            return list
        }
    </script>
</body>
</html>